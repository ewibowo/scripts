#!/bin/sh

# The default tftp file path is /private/tftpboot but you can change that by
# editing /System/Library/LaunchDaemons/tftp.plist and re-starting with retftp.
echo "We are going to need your sudo password"
sudo -v
echo "Stopping TFTP server..."
sudo launchctl stop com.apple.tftpd
sudo launchctl unload -F /System/Library/LaunchDaemons/tftp.plist
echo "TFTP server is stopped. Use gotftp to start it again."

# Shutdown redis from command line:
redis-cli shutdown
echo "Redis has stopped"

# Shutdown Mongodb
print "Shutting Mongo Server Down!!"
mongo admin --eval "printjson(db.shutdownServer())"

echo "Stopping Postgres SQL"
pg_ctl -D /Users/rlaney/DB/postgres stop -s -m fast
#echo "5"
#sleep 1
#echo "4"
#sleep 1
echo "3"
sleep 1
echo "2"
sleep 1
echo "1"
sleep 1
echo "Let's check the status with:
pg_ctl -D /Users/rlaney/DB/postgres status"
pg_ctl -D /Users/rlaney/DB/postgres status
