#!/bin/sh

# The default tftp file path is /private/tftpboot but you can change that by
# editing /System/Library/LaunchDaemons/tftp.plist and re-starting with retftp.
echo "We are going to need your sudo password"
sudo -v
echo "Starting TFTP server..."
sudo launchctl load -F /System/Library/LaunchDaemons/tftp.plist
sudo launchctl start com.apple.tftpd
echo "TFTP server is running. Use notftp to stop it."

# Start redis with local config file
echo "To run from command line run: redis-server"
redis-server /Users/rlaney/DB/redis/redis.conf
echo "Redis has started"
echo "To shutdown the server use CTRL-C"
echo "========================================"
echo "Test if Redis server is running."
echo "redis-cli ping"
echo "If it replies “PONG”, then it’s good to go!"

echo "WARNING: launchctl will fail when run under tmux."
echo "You have 10 seconds to Control-C......"
sleep 5
# Using "fork" to start process in the background.
mongod --config /Users/rlaney/DB/mongodb/mongod.conf --fork
echo "MongoDB has started"
echo "To shutdown the server use db.shutdownServer(); in the mongo shell."
echo "NOTE: You must be in the admin database (use admin)."
